{"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"EudiWalletKit"}],"title":"Presentation Service"},"seeAlsoSections":[{"anchor":"Essentials","identifiers":["doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/GetStarted","doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/ManageDocuments","doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/IssueDocuments","doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/SecureAreas","doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/WalletUI"],"title":"Essentials","generated":true}],"identifier":{"url":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationService","interfaceLanguage":"swift"},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"overview","type":"heading","text":"Overview"},{"inlineContent":[{"text":"The ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationService"},{"text":" protocol abstracts the presentation flow. The ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/BlePresentationService"},{"text":" and ","type":"text"},{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/OpenId4VpService","type":"reference","isActive":true},{"text":" classes implement the proximity and remote presentation flows respectively. The ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession"},{"type":"text","text":" class is used to wrap the presentation service and provide "},{"type":"codeVoice","code":"@Published"},{"type":"text","text":" properties for SwiftUI screens. The following example code demonstrates the initialization of a SwiftUI view with a new presentation session of a selected "},{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/FlowType","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"syntax":"swift","code":["let session = eudiWallet.beginPresentation(flow: flow)","\/\/ pass the session to a SwiftUI view","ShareView(presentationSession: session)"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"On view appearance the attestations are presented with the "},{"type":"reference","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationService\/receiveRequest()","isActive":true},{"type":"text","text":"  method. For the BLE (proximity) case, the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession\/deviceEngagement"},{"type":"text","text":" property is populated with the QR code to be displayed on the holder device."}]},{"syntax":"swift","type":"codeListing","code":[".task {","\t if presentationSession.flow.isProximity { await presentationSession.startQrEngagement() }","\t _ = await presentationSession.receiveRequest()","}"]},{"type":"paragraph","inlineContent":[{"text":"After the request is received the ","type":"text"},{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession\/disclosedDocuments","isActive":true,"type":"reference"},{"text":" contains the requested attested items. The selected state of the items can be modified via UI binding. Finally, the response is sent with the following code:","type":"text"}]},{"code":["\/\/ Send the disclosed document items after biometric authentication (FaceID or TouchID)","\/\/ if the user cancels biometric authentication, onCancel method is called"," await presentationSession.sendResponse(userAccepted: true,","\titemsToSend: presentationSession.disclosedDocuments.items, onCancel: { dismiss() }, onSuccess: {","\t\t\tif let url = $0 { ","\t\t\t\t\/\/ handle URL","\t\t\t }","\t\t})"],"syntax":"swift","type":"codeListing"}]}],"abstract":[{"text":"The library supports document presentation via BLE or online verifier","type":"text"}],"variants":[{"paths":["\/documentation\/eudiwalletkit\/presentationservice"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","schemaVersion":{"major":0,"patch":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit"]]},"references":{"doc://EudiWalletKit/documentation/EudiWalletKit/WalletUI":{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/WalletUI","role":"sampleCode","url":"\/documentation\/eudiwalletkit\/walletui","title":"EUDI iOS Wallet reference implementation","abstract":[],"kind":"article","type":"topic"},"doc://EudiWalletKit/documentation/EudiWalletKit/GetStarted":{"title":"Get started","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/GetStarted","role":"article","type":"topic","abstract":[{"text":"How to install and initialize EUDI Wallet Kit in your project","type":"text"}],"kind":"article","url":"\/documentation\/eudiwalletkit\/getstarted"},"https://eu-digital-identity-wallet.github.io/eudi-lib-ios-iso18013-data-model/documentation/mdocdatamodel18013/securekeystorage":{"type":"link","identifier":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securekeystorage","titleInlineContent":[{"type":"text","text":"SecureKeyStorage"}],"url":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securekeystorage","title":"SecureKeyStorage"},"doc://EudiWalletKit/documentation/EudiWalletKit/PresentationSession/deviceEngagement":{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession\/deviceEngagement","type":"topic","url":"\/documentation\/eudiwalletkit\/presentationsession\/deviceengagement","title":"deviceEngagement","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"deviceEngagement","kind":"identifier"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"kind":"symbol","abstract":[{"type":"text","text":"Device engagement data (QR data for the BLE flow)"}],"role":"symbol"},"doc://EudiWalletKit/documentation/EudiWalletKit/PresentationService/receiveRequest()":{"url":"\/documentation\/eudiwalletkit\/presentationservice\/receiverequest()","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationService\/receiveRequest()","abstract":[{"text":"Receive request.","type":"text"}],"kind":"symbol","type":"topic","required":true,"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"receiveRequest"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:21MdocDataTransfer1801315UserRequestInfoV","text":"UserRequestInfo"}],"title":"receiveRequest()"},"doc://EudiWalletKit/documentation/EudiWalletKit/PresentationSession/disclosedDocuments":{"url":"\/documentation\/eudiwalletkit\/presentationsession\/discloseddocuments","abstract":[{"text":"Request items selected by the user to be sent to verifier.","type":"text"}],"type":"topic","title":"disclosedDocuments","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession\/disclosedDocuments","role":"symbol","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"disclosedDocuments","kind":"identifier"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"DocElementsViewModel","preciseIdentifier":"s:13EudiWalletKit20DocElementsViewModelV"},{"text":"]","kind":"text"}]},"doc://EudiWalletKit/documentation/EudiWalletKit/ManageDocuments":{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/ManageDocuments","abstract":[{"text":"The EudiWallet class provides a set of methods to work with documents.","type":"text"}],"url":"\/documentation\/eudiwalletkit\/managedocuments","kind":"article","type":"topic","role":"article","title":"Manage documents"},"doc://EudiWalletKit/documentation/EudiWalletKit/FlowType":{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/FlowType","navigatorTitle":[{"text":"FlowType","kind":"identifier"}],"title":"FlowType","type":"topic","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"FlowType","kind":"identifier"}],"role":"symbol","kind":"symbol","abstract":[{"text":"Data exchange flow type","type":"text"}],"url":"\/documentation\/eudiwalletkit\/flowtype"},"doc://EudiWalletKit/documentation/EudiWalletKit/OpenId4VpService":{"title":"OpenId4VpService","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/OpenId4VpService","role":"symbol","navigatorTitle":[{"text":"OpenId4VpService","kind":"identifier"}],"type":"topic","abstract":[{"text":"Implementation is based on the OpenID4VP â€“ Draft 18 specification","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"OpenId4VpService","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/eudiwalletkit\/openid4vpservice"},"doc://EudiWalletKit/documentation/EudiWalletKit/BlePresentationService":{"url":"\/documentation\/eudiwalletkit\/blepresentationservice","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"BlePresentationService"}],"navigatorTitle":[{"kind":"identifier","text":"BlePresentationService"}],"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/BlePresentationService","title":"BlePresentationService","role":"symbol","type":"topic","abstract":[{"type":"text","text":"Implementation is based on the ISO\/IEC 18013-5 specification"}],"kind":"symbol"},"doc://EudiWalletKit/documentation/EudiWalletKit/IssueDocuments":{"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/IssueDocuments","abstract":[{"type":"text","text":"The library provides the functionality to issue documents using OpenID4VCI."}],"url":"\/documentation\/eudiwalletkit\/issuedocuments","kind":"article","type":"topic","role":"article","title":"Issue documents"},"https://eu-digital-identity-wallet.github.io/eudi-lib-ios-iso18013-data-model/documentation/mdocdatamodel18013/securearea":{"title":"SecureArea","identifier":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securearea","titleInlineContent":[{"type":"text","text":"SecureArea"}],"url":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securearea","type":"link"},"doc://EudiWalletKit/documentation/EudiWalletKit/SecureAreas":{"title":"Custom key management","type":"topic","role":"article","kind":"article","url":"\/documentation\/eudiwalletkit\/secureareas","abstract":[{"text":"Eudi Wallet Kit supports custom key management through the implementation of ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securearea"},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"https:\/\/eu-digital-identity-wallet.github.io\/eudi-lib-ios-iso18013-data-model\/documentation\/mdocdatamodel18013\/securekeystorage"},{"type":"text","text":" protocols. This document details the process of integrating custom key management with the library."}],"identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/SecureAreas"},"doc://EudiWalletKit/documentation/EudiWalletKit":{"kind":"symbol","abstract":[{"type":"text","text":"EUDI Wallet Kit library for iOS"}],"url":"\/documentation\/eudiwalletkit","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit","role":"collection","title":"EudiWalletKit","type":"topic"},"doc://EudiWalletKit/documentation/EudiWalletKit/PresentationSession":{"kind":"symbol","type":"topic","role":"symbol","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationSession","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"PresentationSession","kind":"identifier"}],"title":"PresentationSession","abstract":[{"text":"Presentation session","type":"text"}],"url":"\/documentation\/eudiwalletkit\/presentationsession","navigatorTitle":[{"kind":"identifier","text":"PresentationSession"}]},"doc://EudiWalletKit/documentation/EudiWalletKit/PresentationService":{"url":"\/documentation\/eudiwalletkit\/presentationservice","identifier":"doc:\/\/EudiWalletKit\/documentation\/EudiWalletKit\/PresentationService","title":"Presentation Service","role":"article","type":"topic","abstract":[{"type":"text","text":"The library supports document presentation via BLE or online verifier"}],"kind":"article"}}}